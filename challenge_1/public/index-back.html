<!Doctype HTML>
<html>
<head>
  <meta charset="utf-8">
  <title>Grocery List</title>
  <link rel="stylesheet" type="text/css" href="styles/styles.css">
</head>
<body>
  <div id="app">
    <img src="images/2000px-Tic_tac_toe.svg.png">
      <h1>Tick Tack Toe</h1>
      <div>
        <button id="myButton">Reset</button>
      </div>
      <div>
        <table border="1" width="300" height="300">
          <tr>
            <td id="0" onClick="sendClickEvent(this);">0</td>
            <td id="1"></td>
            <td id="3"></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        </table>
      </div>
  </div>
  <script>
    document.addEventListener("DOMContentLoaded", function(event) {
      console.log("DOM fully loaded and parsed");
    });
    function sendPostToServer(trId) {
      var http = new XMLHttpRequest();
      http.open("POST", '/box', true);
      // http.open("POST", 'http://localhost:3000/box', true);
      // http://localhost:3000
      // xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
      http.setRequestHeader("Content-type", "application/json");
      http.send(`{ "trId" : ${trId} }`);
    };
    function sendClickEvent(el) {
      // console.log('el', el);
      console.log('e.id', el.id);
      // el.innerHTML = "X";

      sendPostToServer(el.id);
    };
  </script>
</body>
</html>

